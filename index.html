<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Address Validation Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
    }
    h1 {
      text-align: center;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
      background: #fff;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background: #eee;
    }
    .chart-container {
      width: 80%;
      margin: 40px auto;
    }
  </style>
</head>
<body>
  <h1>ðŸ“Š Address Validation Dashboard</h1>

  <!-- Chart -->
  <div class="chart-container">
    <canvas id="statusChart"></canvas>
  </div>

  <!-- Table -->
  <h2>Data Table</h2>
  <table id="dataTable">
    <thead></thead>
    <tbody></tbody>
  </table>

  <script>
    const sheetURL = "PASTE_YOUR_CSV_LINK_HERE"; // ðŸ‘ˆ Replace with your Google Sheet CSV link

    async function loadData() {
      const response = await fetch(sheetURL);
      const data = await response.text();
      const rows = data.split("\n").map(r => r.split(","));

      // Build table
      const table = document.getElementById("dataTable");
      const thead = table.querySelector("thead");
      const tbody = table.querySelector("tbody");

      thead.innerHTML = "<tr>" + rows[0].map(h => `<th>${h}</th>`).join("") + "</tr>";
      tbody.innerHTML = rows.slice(1).map(r =>
        "<tr>" + r.map(c => `<td>${c}</td>`).join("") + "</tr>"
      ).join("");

      // Build chart (Status column assumed to be last column)
      const statusIndex = rows[0].indexOf("Status");
      if (statusIndex >= 0) {
        const statuses = rows.slice(1).map(r => r[statusIndex]);
        const counts = {};
        statuses.forEach(s => counts[s] = (counts[s] || 0) + 1);

        new Chart(document.getElementById("statusChart"), {
          type: "pie",
          data: {
            labels: Object.keys(counts),
            datasets: [{
              data: Object.values(counts),
              backgroundColor: ["#4caf50", "#f44336", "#ff9800", "#2196f3"]
            }]
          }
        });
      }
    }

    loadData();
  </script>
</body>
</html>
